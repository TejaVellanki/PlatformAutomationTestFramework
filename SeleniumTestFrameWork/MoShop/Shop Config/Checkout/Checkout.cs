// Generated by .NET Reflector from C:\Program Files\Default Company Name\Selenium Test Tool\MoBankUI.exe

using System.Threading;
using OpenQA.Selenium;
using Selenium;

namespace MoBankUI
{
    public class Checkout
    {
        public void checkout(IWebDriver driver, ISelenium selenium, datarow datarow)
        {
            driver.FindElement(By.LinkText("Checkout")).Click();
            selenium.WaitForPageToLoad("30000");
            datarow.newrow("", "", "CHECKOUT", "", driver, selenium);
            string actual = driver.Title;
            if (actual == "Checkout : mobank.co.uk/MoShop")
            {
                datarow.newrow("Checkout Title", "Checkout : mobank.co.uk/MoShop", actual, "PASS", driver, selenium);
            }
            else
            {
                datarow.newrow("Checkout Title", "Checkout : mobank.co.uk/MoShop", actual, "PASS", driver, selenium);
            }
            Thread.Sleep(3000);
            driver.FindElement(By.Id("CheckoutProcesses_0__Name")).Clear();
            driver.FindElement(By.Id("CheckoutProcesses_0__Name")).SendKeys("Tickle (copy of QA by SB)");
            driver.FindElement(By.Id("CheckoutProcesses_0__Name")).SendKeys(Keys.Enter);
            selenium.WaitForPageToLoad("30000");
            driver.FindElement(By.Id("PaymentAccountIdentifier")).Clear();
            driver.FindElement(By.Id("PaymentAccountIdentifier")).SendKeys("59f285d7-6de0-48f3-917c-40de0177e13f");
            driver.FindElement(By.CssSelector("input.button")).Click();
            selenium.WaitForPageToLoad("30000");
            Thread.Sleep(3000);
            string attribute = driver.FindElement(By.Id("CheckoutProcesses_0__Name")).GetAttribute("Value");
            if (attribute == "")
            {
                driver.FindElement(By.Id("CheckoutProcesses_0__Name")).SendKeys("Tickle (copy of QA by SB)");
                driver.FindElement(By.CssSelector("input.button")).Click();
                selenium.WaitForPageToLoad("30000");
                Thread.Sleep(3000);
            }
            string str3 = driver.FindElement(By.Id("PaymentAccountIdentifier")).GetAttribute("Value");
            if (attribute == "Tickle (copy of QA by SB)")
            {
                datarow.newrow("Checkout Name", "Tickle (copy of QA by SB)", attribute, "PASS", driver, selenium);
            }
            else
            {
                datarow.newrow("Checkout Name", "Tickle (copy of QA by SB)", attribute, "FAIL", driver, selenium);
            }
            if (str3 == "59f285d7-6de0-48f3-917c-40de0177e13f")
            {
                datarow.newrow("Payment Identifier", "59f285d7-6de0-48f3-917c-40de0177e13f", str3, "PASS", driver,
                               selenium);
            }
            else
            {
                datarow.newrow("Payment Identifier", "59f285d7-6de0-48f3-917c-40de0177e13f", str3, "FAIL", driver,
                               selenium);
            }
            Thread.Sleep(3000);
            driver.FindElement(By.Id("DefaultCheckoutProcessId")).Click();
            driver.FindElement(By.CssSelector("input.button")).Click();
            selenium.WaitForPageToLoad("30000");
            driver.FindElement(By.LinkText("…")).Click();
            selenium.WaitForPageToLoad("30000");
            string str4 = driver.Title;
            if (str4 == "Checkout Process : mobank.co.uk/MoShop")
            {
                datarow.newrow("Checkout Process Page Title", "Checkout Process : mobank.co.uk/MoShop", str4, "PASS",
                               driver, selenium);
            }
            else
            {
                datarow.newrow("Checkout Process Page Title", "Checkout Process : mobank.co.uk/MoShop", str4, "FAIL",
                               driver, selenium);
            }

            new ConfigureCheckout().configure(driver, selenium, datarow);
        }
    }
}