// Generated by .NET Reflector from C:\Program Files\Default Company Name\Selenium Test Tool\MoBankUI.exe
namespace MoBankUI
{
    using OpenQA.Selenium;
    using Selenium;
    using System;
    using System.Threading;
    
    public class UserJourney_TPS
    {
        private MoBankUI.Screenshot screenshot = new MoBankUI.Screenshot();
        
        public void UserJourn(datarow_TPS datarow, IWebDriver driver, ISelenium selenium, string url)
        {
            try
            {
                products_TPS s_tps;
                bool flag;
                Imagevalidation imagevalidation = new Imagevalidation();
                Footer_TPS r_tps = new Footer_TPS();
                driver.Navigate().GoToUrl(url);
                selenium.Click("css=img");
                selenium.WaitForPageToLoad("30000");
                imagevalidation.homepageimage(driver, selenium, datarow);
                driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(10.0));
                IWebElement element = driver.FindElement(By.XPath("//html/body/div/div[2]/div/ul/li/div/div/a/h2"));
                driver.FindElement(By.XPath("//html/body/div/div[2]/div/ul/li/div/div/a/h2")).Click();
                selenium.WaitForPageToLoad("30000");
                string str = driver.Title.ToString();
                imagevalidation.categoryimage(driver, selenium, datarow);
                r_tps.Footer(driver, selenium, datarow);
                decimal xpathCount = selenium.GetXpathCount("//html/body/div/div[2]/div/ul/li");
                int num2 = 1;
                goto Label_01C0;
            Label_00C5:
                if (selenium.IsElementPresent("//html/body/div/div[2]/div/ul/li/div/div/a/h2"))
                {
                    driver.FindElement(By.XPath("//html/body/div/div[2]/div/ul/li/div/div/a/h2")).Click();
                    selenium.WaitForPageToLoad("30000");
                    imagevalidation.subcategoryimage(driver, selenium, datarow);
                    r_tps.Footer(driver, selenium, datarow);
                    string actual = driver.Title.ToString();
                    if (selenium.GetLocation().Contains("category"))
                    {
                        datarow.newrowTPS("Category Title", "", actual, "PASS", driver, selenium);
                        goto Label_01B9;
                    }
                    datarow.newrowTPS("Product Title", "", actual, "PASS", driver, selenium);
                    goto Label_01C8;
                }
                if (num2 == 1)
                {
                    datarow.newrowTPS("Categories Of Merchant", "Expected Atleast One Category", "No Category is identified -//html/body/div/div[2]/div/ul/li/div/div/a/h2(Element Not Identified)", "FAIL", driver, selenium);
                    this.screenshot.screenshotfailed(driver, selenium);
                }
            Label_01B9:
                num2++;
            Label_01C0:
                flag = true;
                goto Label_00C5;
            Label_01C8:
                s_tps = new products_TPS();
                s_tps.product(driver, selenium, datarow);
                string str4 = driver.PageSource;
                Thread.Sleep(0x1388);
            }
            catch (Exception exception)
            {
                string str5 = exception.ToString();
                datarow.newrowTPS("Exception", "Exception Is Not Expected", str5, "FAIL", driver, selenium);
                this.screenshot.screenshotfailed(driver, selenium);
            }
        }
    }
}
